<!DOCTYPE html>
<html lang="en">
<head>
<!--screen compability-->
  <title>Registeration</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- external links of bootstrap for java script,css,ajax-->
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<!-- css styling of page-->
<style>
body {
    background-color: #b0c4de;
}
</style>
<script>
function registeration()
{
	var username = document.getElementById("usr").value;
	var uemail=document.getElementById("inputEmail").value;//get the content of website element with id "inputEmail" (in this example it is the input of user name)
	var upass=document.getElementById("pwd").value;//get the content of website element with id "inputPassword" (in this website it gets the user input password)
	var a="usr"+username+"&"+"inputEmail="+uemail+"&"+"pwd="+upass; //assemble the user input into one single string
	var xmlhttp; //from here it is the Ajax part
	if (window.XMLHttpRequest)
	  {// code for IE7+, Firefox, Chrome, Opera, Safari
	  xmlhttp=new XMLHttpRequest();
	  }
	else
	  {// code for IE6, IE5
	  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	  }
	xmlhttp.onreadystatechange=function() //when the ready state changes
	  {
	  if (xmlhttp.readyState==4 && xmlhttp.status==200) //the server send a confirm message telling the website the data is received and the result is returnned successfully
	    {
		  	//document.getElementById("regHint").innerHTML=xmlhttp.status;
			document.getElementById("regHint").innerHTML=xmlhttp.responseText; //get the response from server and set it to web element with id = "txtHint" 
			//redirect();//call the function "redirect()" below
	    }
	  }
	  //this is for sending a post request and the string "a"(username=XXX&password=XXX) to the server
	xmlhttp.open("POST","../whale_dec_servlet/Whale_dec_servlet_registration",true); //send to the php server telling the sending method is "POST" and the action is "login"
	xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"); //set header
	xmlhttp.send(a);//send string "a"
}
</script>
</head>

<!---------------------------------------------------------->

<body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Right Whale Project</a>
    </div>
    <div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="index.html">Home</a></li>
        <li>                                                  <a href= "tutorial.html">How Do I Work </a></li>
        </ul>
    </div>
  </div>
</nav>
<!--navbar ends---------------------------------------------->
<!-- container is a fixed width-->
  <div class="container">
  <h2>Hello Whale Account</h2>
  <p>Please fill in all details mentioned:</p>
  <form role="form">
    <div class="form-group">
      <label for="usr">Name:</label>
      <input type="text" class="form-control" id="usr" placeholder="e.g. Leonard">
    </div>
    <div class="form-group">
      <label for="pwd">Password:</label>
      <input type="password" class="form-control" id="pwd" placeholder="password" required autofocus>
    </div>
     <div class="form-group">
    <label for="inputEmail" >Email address</label>
        <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
</div>
<button class="btn btn-lg btn-primary btn-block" type="submit" onClick="registeration()">Register</button>
<div id="regHint"></div>

  </form>
</div>

</body>
</html>
